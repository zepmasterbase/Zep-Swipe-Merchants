<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zep Swipe POS â€” USDT Payments</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

<style>
  body {
    background: radial-gradient(circle at 20% 20%, #040012, #000008);
    color: #fff;
    font-family: Poppins, sans-serif;
    min-height: 100vh;
  }

  .glass {
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.15);
    padding: 1.5rem;
    border-radius: 1.2rem;
    backdrop-filter: blur(12px);
    box-shadow: 0 0 25px rgba(0,255,255,0.25);
  }

  .btn {
    background: linear-gradient(90deg, #00f0ff, #9c4dff);
    border-radius: 0.7rem;
    padding: 12px;
    font-family: Orbitron;
    font-weight: 600;
    color: #050018;
    cursor: pointer;
    box-shadow: 0 0 20px rgba(0,240,255,0.35);
    transition: .25s;
  }
  .btn:hover { transform: scale(1.05); }

  .pill {
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.14);
    padding: 10px 18px;
    border-radius: 999px;
    margin-right: 8px;
    cursor: pointer;
    transition: .2s;
  }
  .pill:hover {
    background: rgba(0,255,255,0.2);
  }
</style>
</head>

<body class="p-5">

<h1 class="text-center font-orbitron text-2xl mb-5 bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent">
  Zep Swipe Merchant POS
</h1>

<!-- Amount Input -->
<div class="glass mb-5">
  <label class="text-cyan-300 text-sm">Enter Amount (USDT)</label>
  <input id="amount" type="number" min="0" step="0.01"
         class="w-full mt-2 p-3 rounded-lg bg-black/20 border border-cyan-400/30 outline-none">
</div>

<!-- Discount & Tips -->
<div class="glass mb-5">
  <p class="text-cyan-300 mb-3">Discount</p>
  <div class="flex gap-2 mb-4">
    <div class="pill" onclick="applyDiscount(5)">5% OFF</div>
    <div class="pill" onclick="applyDiscount(10)">10% OFF</div>
    <div class="pill" onclick="applyDiscount(20)">20% OFF</div>
  </div>

  <p class="text-cyan-300 mb-3">Tip</p>
  <div class="flex gap-2">
    <div class="pill" onclick="applyTip(5)">+5%</div>
    <div class="pill" onclick="applyTip(10)">+10%</div>
    <div class="pill" onclick="applyTip(2)">+2 USDT</div>
  </div>
</div>

<!-- Generate QR -->
<button onclick="generateQR()" class="btn w-full mb-5">Generate Payment QR</button>

<!-- QR Output -->
<div id="qrSection" class="glass text-center hidden">
  <h2 class="font-orbitron text-lg mb-2">Scan to Pay</h2>
  <canvas id="qrCode"></canvas>
  <p class="text-cyan-300 mt-3 text-sm" id="finalAmountLabel"></p>
</div>

<script>
let currentAmount = 0;

function applyDiscount(percent){
  let amt = parseFloat(document.getElementById("amount").value);
  if(!amt) return alert("Enter amount first");

  currentAmount = amt - (amt * percent / 100);
  document.getElementById("amount").value = currentAmount.toFixed(2);
}

function applyTip(value){
  let amt = parseFloat(document.getElementById("amount").value);
  if(!amt) return alert("Enter amount first");

  if(value < 10) {
    currentAmount = amt + (amt * value / 100);
  } else {
    currentAmount = amt + value;
  }
  document.getElementById("amount").value = currentAmount.toFixed(2);
}

function generateQR(){
  let amt = document.getElementById("amount").value;
  if(!amt) return alert("Enter amount!");

  const merchantWallet = "YOUR_MERCHANT_WALLET_HERE";

  const usdtContract = "0xdac17f958d2ee523a2206206994597c13d831ec7"; // Base USDT

  const paymentData = JSON.stringify({
    chain:"base-mainnet",
    token:"USDT",
    contract:usdtContract,
    amount:amt,
    to:merchantWallet
  });

  new QRious({
    element: document.getElementById("qrCode"),
    size: 260,
    value: paymentData
  });

  document.getElementById("qrSection").classList.remove("hidden");
  document.getElementById("finalAmountLabel").innerText = "Amount: " + amt + " USDT";
}
</script>

</body>
</html>